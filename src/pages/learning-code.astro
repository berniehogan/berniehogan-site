---
import Base from '../layouts/Base.astro';
import { getCollection } from 'astro:content';

const software = await getCollection('software');
const codeRepos = software
  .filter((item) => item.data.github)
  .sort((a, b) => (b.data.year || 0) - (a.data.year || 0));
---

<Base title="Learning Code Â· Bernie Hogan">
  <p class="muted"><a href="/">â† Bernie Hogan</a></p>

  <h1>Learning Code</h1>

  {codeRepos.map(async (item) => {
    const { Content } = await item.render();
    return (
      <div class="work-entry">
        <div class="work-title">
          <a href={`https://github.com/${item.data.github}`}>{item.data.title}</a>
        </div>
        {item.data.year && <div class="work-meta">{item.data.year}</div>}
        <div class="work-annotation"><Content /></div>
      </div>
    );
  })}
</Base>
